<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>My Books</ion-title>
        <ion-buttons slot="end">
            <ion-icon name="menu" (click)="presentPopover($event)"></ion-icon>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <ion-list *ngIf="books">
        <ion-item>
            <ion-searchbar animated showCancelButton="never" autocomplete="true" (ionChange)="searchChanged($event)"></ion-searchbar>
        </ion-item>
        <ion-item *ngFor="let book of books">
            <ion-label (click)="openBook(book)">{{book.fileName}}</ion-label>
            <ion-icon name="star-outline" *ngIf="!isFavoriteBook(book)" (click)="setFavorites(true, book)"></ion-icon>
            <ion-icon name="star" *ngIf="isFavoriteBook(book)" (click)="setFavorites(false, book)"></ion-icon>
            <ion-icon slot="end" name="trash" (click)="deleteBook(book)"></ion-icon>
        </ion-item>
    </ion-list>
</ion-content>
